(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31343,e=>{"use strict";let t=(0,e.i(75254).default)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);e.s(["Play",()=>t],31343)},33154,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(31446),a=e.i(18589),i=e.i(39312),n=e.i(7233),r=e.i(31343),d=e.i(75254);let c=(0,d.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),o=(0,d.default)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var x=e.i(83086),m=e.i(37727);function h(){let{automations:e,isRunning:d,toggleAutomation:c,deleteAutomation:h,runAutomationsNow:u,getPredefinedRules:g,activatePredefined:v}=(0,l.useAutomations)(),{clients:j,tasks:p,transactions:f}=(0,a.useAppStore)(),[N,y]=(0,s.useState)(!0),[w,k]=(0,s.useState)(!1),C=g(),A=e.filter(e=>e.enabled),z=e.filter(e=>!e.enabled),P=async()=>{await u({clients:j,tasks:p,transactions:f,user:{}})};return(0,t.jsxs)("div",{className:"min-h-screen p-4 md:p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-600 to-violet-700 flex items-center justify-center shadow-lg",children:(0,t.jsx)(i.Zap,{className:"text-white",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"AutomaÃ§Ãµes Inteligentes"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Automatize tarefas repetitivas e economize tempo"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:P,disabled:d||0===A.length,className:"px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(r.Play,{size:18}),d?"Executando...":"Executar Agora"]}),(0,t.jsxs)("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[(0,t.jsx)(n.Plus,{size:18}),"Nova AutomaÃ§Ã£o"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-800",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Ativas"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:A.length})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-800",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Inativas"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:z.length})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-800",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"ExecuÃ§Ãµes Total"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:e.reduce((e,t)=>e+t.runCount,0)})]})]})]}),N&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Sparkles,{className:"text-violet-400",size:20}),(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Regras PrÃ©-Definidas"})]}),(0,t.jsx)("button",{onClick:()=>y(!1),className:"text-sm text-slate-400 hover:text-white",children:"Ocultar"})]}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map((s,l)=>{let a=e.some(e=>e.name===s.name);return(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-5 border border-slate-800 hover:border-violet-600/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-white text-sm",children:s.name}),(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"client"===s.category?"bg-blue-500/20 text-blue-400":"task"===s.category?"bg-green-500/20 text-green-400":"financial"===s.category?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:s.category})]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:s.description}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:a?(0,t.jsxs)("div",{className:"flex-1 text-xs text-green-400 flex items-center gap-1",children:[(0,t.jsx)(o,{size:14}),"Ativada"]}):(0,t.jsx)("button",{onClick:()=>{v(s.name)},className:"flex-1 px-3 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Ativar"})})]},l)})})]}),A.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"AutomaÃ§Ãµes Ativas"}),(0,t.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,t.jsx)(b,{automation:e,onToggle:c,onDelete:h},e.id))})]}),z.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"AutomaÃ§Ãµes Inativas"}),(0,t.jsx)("div",{className:"space-y-3",children:z.map(e=>(0,t.jsx)(b,{automation:e,onToggle:c,onDelete:h},e.id))})]}),0===e.length&&!N&&(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)(i.Zap,{className:"mx-auto text-slate-600 mb-4",size:48}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma automaÃ§Ã£o criada"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Comece ativando uma regra prÃ©-definida"}),(0,t.jsx)("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-medium",children:"Ver Regras PrÃ©-Definidas"})]}),w&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 max-w-md w-full p-6 relative",children:[(0,t.jsx)("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:(0,t.jsx)(m.X,{size:20})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Nova AutomaÃ§Ã£o Customizada"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"ðŸš§ Feature em desenvolvimento! Por enquanto, use as regras prÃ©-definidas ou aguarde a prÃ³xima versÃ£o com builder visual completo."}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors",children:"Fechar"}),(0,t.jsx)("button",{onClick:()=>{k(!1),y(!0)},className:"flex-1 px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-medium transition-colors",children:"Ver PrÃ©-Definidas"})]})]})})]})}function b({automation:e,onToggle:s,onDelete:l}){return(0,t.jsx)("div",{className:`bg-slate-900/50 rounded-lg p-5 border transition-colors ${e.enabled?"border-violet-600/50":"border-slate-800"}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-white",children:e.name}),(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${e.enabled?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.enabled?"Ativa":"Inativa"})]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[e.lastRun&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c,{size:12}),"Ãšltima: ",new Date(e.lastRun).toLocaleDateString()]}),(0,t.jsxs)("div",{children:["ExecuÃ§Ãµes: ",e.runCount]}),(0,t.jsxs)("div",{children:[e.actions.length," aÃ§Ãµes"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>s(e.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e.enabled?"bg-slate-700 hover:bg-slate-600 text-white":"bg-violet-600 hover:bg-violet-700 text-white"}`,children:e.enabled?"Pausar":"Ativar"}),(0,t.jsx)("button",{onClick:()=>l(e.id),className:"px-3 py-1.5 bg-red-900/20 hover:bg-red-900/40 text-red-400 rounded-lg text-sm font-medium transition-colors",children:"Deletar"})]})]})})}e.s(["default",()=>h],33154)}]);