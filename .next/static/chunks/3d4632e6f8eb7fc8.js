(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,74886,e=>{"use strict";let s=(0,e.i(75254).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],74886)},87632,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(83086),a=e.i(14764),r=e.i(75254);let d=(0,r.default)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),i=(0,r.default)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var n=e.i(74886),o=e.i(47780);let c=(0,r.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var x=e.i(84614);let m=(0,r.default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),h=[{id:1,name:"Ana Silva",business:"Beauty Spa"},{id:2,name:"Carlos Oliveira",business:"Tech Solutions"},{id:3,name:"Mariana Costa",business:"Doces Gourmet"}];function p(){let[e,r]=(0,t.useState)(h[0]),[p,u]=(0,t.useState)(!1),[b,f]=(0,t.useState)([]),[v,g]=(0,t.useState)(""),[j,N]=(0,t.useState)(!1),[w,y]=(0,t.useState)(""),[k,C]=(0,t.useState)(null),S=(0,t.useRef)(null),A=(0,t.useRef)(null);(0,t.useEffect)(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},[b,j]),(0,t.useEffect)(()=>{f([]),y("")},[e]);let z=async()=>{if(!v.trim()&&!k)return;let s={role:"user",content:v};f(e=>[...e,s]),g(""),N(!0),y("");try{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({history:[...b,s],imageBase64:k,context:{clientName:e.name,clientBusiness:e.business}})}),l=await t.json();if(!t.ok)throw Error(l.error||"Erro na resposta da API");if(!l.reply)throw Error("A IA não retornou texto.");let a=!1,r=null;try{(r=JSON.parse(l.reply)).ideas&&(a=!0)}catch(e){}f(e=>[...e,{role:"assistant",content:l.reply,isJson:a,parsedContent:r}]),C(null)}catch(e){console.error("Erro no frontend:",e),y("Erro ao conectar com a IA. Verifique se o servidor está rodando."),f(e=>[...e,{role:"assistant",content:"❌ Ocorreu um erro ao processar sua mensagem."}])}finally{N(!1)}};return(0,s.jsxs)("div",{className:"flex flex-col h-[calc(100vh-3.5rem)] md:h-screen bg-slate-950 text-white overflow-hidden",children:[(0,s.jsx)("div",{className:"border-b border-slate-900 bg-slate-950/90 backdrop-blur-sm p-3 md:p-4 relative z-10 flex-shrink-0",children:(0,s.jsxs)("div",{className:"w-full flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[(0,s.jsx)(l.Sparkles,{size:20,className:"text-violet-500 flex-shrink-0 md:w-6 md:h-6"}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h1",{className:"text-base md:text-lg font-bold text-white truncate",children:"Estratégia IA"}),(0,s.jsx)("p",{className:"text-[10px] md:text-xs text-slate-500 hidden sm:block",children:"Gerador de Conteúdo Inteligente"})]})]}),(0,s.jsxs)("div",{className:"relative z-50 flex-shrink-0",children:[(0,s.jsxs)("button",{onClick:()=>u(!p),className:"flex items-center gap-2 md:gap-3 bg-slate-900 hover:bg-slate-800 border border-slate-800 rounded-lg md:rounded-xl px-2 md:px-4 py-1.5 md:py-2.5 transition-all",children:[(0,s.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-violet-600 flex items-center justify-center font-bold text-xs md:text-sm flex-shrink-0",children:e.name.charAt(0)}),(0,s.jsxs)("div",{className:"text-left hidden sm:block",children:[(0,s.jsx)("p",{className:"text-xs md:text-sm font-bold text-white",children:e.name}),(0,s.jsx)("p",{className:"text-[9px] md:text-[10px] text-slate-400",children:e.business})]}),(0,s.jsx)(c,{size:14,className:"text-slate-500 hidden sm:block"})]}),p&&(0,s.jsx)("div",{className:"absolute top-full right-0 mt-2 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl z-[100] min-w-[200px] md:min-w-[250px] overflow-hidden",children:h.map(e=>(0,s.jsxs)("button",{onClick:()=>{r(e),u(!1)},className:"w-full text-left p-3 hover:bg-slate-800 flex items-center gap-3 border-b border-slate-800/50 last:border-0",children:[(0,s.jsx)(x.User,{size:14,className:"text-slate-500"}),(0,s.jsx)("span",{className:"text-sm text-slate-300",children:e.name})]},e.id))})]})]})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col bg-slate-950 relative overflow-hidden min-h-0",children:[(0,s.jsxs)("div",{ref:S,className:"flex-1 overflow-y-auto p-3 md:p-8 space-y-4 md:space-y-8 pb-32",children:[0===b.length&&(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 opacity-60 px-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-slate-900 rounded-3xl flex items-center justify-center mb-4 md:mb-6 border border-slate-800",children:(0,s.jsx)(l.Sparkles,{size:32,className:"text-violet-500 md:w-10 md:h-10"})}),(0,s.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"Ops IA 2.5"}),(0,s.jsxs)("p",{className:"text-xs md:text-sm max-w-md text-center",children:["Estou pronto para criar estratégias visuais para ",(0,s.jsx)("span",{className:"text-violet-400 font-bold",children:e.business}),"."]}),(0,s.jsxs)("div",{className:"mt-6 md:mt-8 grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-3 w-full max-w-md",children:[(0,s.jsx)("button",{onClick:()=>g("3 ideias para vender essa semana"),className:"px-3 md:px-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-xs hover:border-violet-500 hover:text-white transition-all text-left",children:'"3 ideias para vender essa semana"'}),(0,s.jsx)("button",{onClick:()=>g("Ideia de Reels viral mostrando bastidores"),className:"px-3 md:px-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-xs hover:border-violet-500 hover:text-white transition-all text-left",children:'"Ideia de Reels de bastidores"'})]})]}),b.map((e,t)=>(0,s.jsx)("div",{className:"w-full animate-in slide-in-from-bottom-2 duration-300",children:"user"===e.role?(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("div",{className:"bg-violet-600 text-white p-4 rounded-2xl rounded-tr-none max-w-[85%] text-sm shadow-md",children:e.content})}):e.isJson&&e.parsedContent?(0,s.jsxs)("div",{className:"w-full space-y-4 animate-in fade-in duration-500",children:[(0,s.jsx)("div",{className:"bg-slate-800/50 text-slate-300 p-4 rounded-2xl rounded-tl-none border border-slate-700 text-sm",children:e.parsedContent.reply}),(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-4",children:e.parsedContent.ideas.map((e,t)=>(0,s.jsxs)("div",{className:"bg-slate-950 border border-slate-800 rounded-xl overflow-hidden hover:border-violet-500/50 transition-all group shadow-sm flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-slate-900 bg-slate-900/30 flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase text-violet-300 bg-violet-500/10 px-2 py-1 rounded border border-violet-500/20",children:e.format}),(0,s.jsx)("h4",{className:"text-white font-bold text-sm mt-2",children:e.title})]}),(0,s.jsx)("button",{onClick:()=>{var s;return s=e.title,void alert(`✅ "${s}" enviado para Produ\xe7\xe3o!`)},className:"text-slate-400 hover:text-white hover:bg-emerald-500 p-2 rounded-lg transition-all",children:(0,s.jsx)(i,{size:20})})]}),(0,s.jsx)("div",{className:"p-4 space-y-2 flex-1",children:(0,s.jsx)("p",{className:"text-slate-400 text-xs leading-relaxed",children:e.description})}),e.visual_prompt&&(0,s.jsxs)("div",{className:"bg-black/40 p-3 flex gap-3 items-center cursor-pointer hover:bg-black/60",onClick:()=>navigator.clipboard.writeText(e.visual_prompt),children:[(0,s.jsx)(o.Palette,{size:14,className:"text-slate-500 shrink-0"}),(0,s.jsx)("p",{className:"text-[10px] text-slate-500 font-mono truncate flex-1",children:e.visual_prompt}),(0,s.jsx)(n.Copy,{size:14,className:"text-slate-500 hover:text-violet-400"})]})]},t))})]}):(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-slate-800 text-slate-200 p-4 rounded-2xl rounded-tl-none max-w-[85%] text-sm border border-slate-700 whitespace-pre-wrap",children:e.content})})},t)),j&&(0,s.jsxs)("div",{className:"flex items-center gap-3 text-slate-500 ml-4",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-violet-500 rounded-full animate-bounce"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-violet-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("span",{className:"w-2 h-2 bg-violet-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,s.jsx)("span",{className:"text-xs",children:"Analisando e criando pautas..."})]}),w&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-red-900/20 border border-red-500/30 rounded-xl text-red-400 text-sm",children:[(0,s.jsx)(m,{size:18}),(0,s.jsx)("span",{children:w})]})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-3 md:p-6 bg-gradient-to-t from-slate-950 via-slate-950 to-transparent",children:(0,s.jsxs)("div",{className:"w-full max-w-5xl mx-auto",children:[k&&(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3 bg-slate-900/80 p-2 rounded-lg w-fit border border-slate-800 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded bg-slate-800 overflow-hidden",children:(0,s.jsx)("img",{src:k,className:"w-full h-full object-cover",alt:"Upload"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-xs text-white font-bold",children:"Imagem Anexada"}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400",children:"Será usada para análise visual"})]}),(0,s.jsx)("button",{onClick:()=>C(null),className:"ml-2 p-1 hover:bg-slate-800 rounded text-slate-400 hover:text-red-400",children:"×"})]}),(0,s.jsxs)("div",{className:"flex gap-2 md:gap-3 bg-slate-900 p-2 rounded-xl md:rounded-2xl border border-slate-800 focus-within:border-violet-600 focus-within:ring-1 focus-within:ring-violet-600/50 shadow-2xl transition-all",children:[(0,s.jsx)("button",{onClick:()=>A.current?.click(),className:"p-2 md:p-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg md:rounded-xl transition-colors flex-shrink-0",children:(0,s.jsx)(d,{size:18,className:"md:w-5 md:h-5"})}),(0,s.jsx)("input",{ref:A,type:"file",className:"hidden",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];if(s){let e=new FileReader;e.onloadend=()=>C(e.result),e.readAsDataURL(s)}}}),(0,s.jsx)("input",{value:v,onChange:e=>g(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&z(),placeholder:"Converse com o estrategista...",className:"flex-1 bg-transparent text-sm text-white placeholder:text-slate-600 outline-none min-w-0"}),(0,s.jsx)("button",{onClick:z,disabled:j||!v&&!k,className:"p-2 md:p-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg md:rounded-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-violet-900/20 transition-all active:scale-95 flex-shrink-0",children:(0,s.jsx)(a.Send,{size:16,className:"md:w-[18px] md:h-[18px]"})})]}),(0,s.jsx)("p",{className:"text-center text-[9px] md:text-[10px] text-slate-600 mt-2 md:mt-3",children:"A IA pode cometer erros. Revise as pautas antes de enviar para produção."})]})})]})]})}e.s(["default",()=>p],87632)}]);