(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let l=(0,e.i(75254).default)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);e.s(["Calendar",()=>l],87316)},88699,e=>{"use strict";let l=(0,e.i(75254).default)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>l],88699)},33197,e=>{"use strict";var l=e.i(43476),t=e.i(71645),s=e.i(18589),a=e.i(7233),r=e.i(88699),i=e.i(27612),o=e.i(87316),n=e.i(37727);let d=(0,e.i(75254).default)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),c=[{value:"Arte",label:"Arte"},{value:"TrÃ¡fego",label:"TrÃ¡fego"},{value:"Web",label:"Web"}],x=[{value:"backlog",label:"Backlog"},{value:"copy",label:"Copywriting"},{value:"design",label:"Design"},{value:"approval",label:"AprovaÃ§Ã£o"},{value:"done",label:"ConcluÃ­do"}];function u({isOpen:e,onClose:a,task:r}){let{addTask:i,updateTask:o,clients:u}=(0,s.useAppStore)(),b=!!r,[p,m]=(0,t.useState)({title:"",description:"",type:"Arte",stage:"backlog",client_id:0,due_date:""});(0,t.useEffect)(()=>{r?m(r):m({title:"",description:"",type:"Arte",stage:"backlog",client_id:u[0]?.id||0,due_date:""})},[r,e,u]);let h=async e=>{(e.preventDefault(),p.client_id)?(b&&r?await o(r.id,p):await i(p),a()):alert("Selecione um cliente")};return e?(0,l.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",children:[(0,l.jsxs)("div",{className:"border-b border-slate-800 p-6 flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-violet-500/10 rounded-lg",children:(0,l.jsx)(d,{className:"w-5 h-5 text-violet-400"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-slate-100",children:b?"Editar Task":"Nova Task"})]}),(0,l.jsx)("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors",children:(0,l.jsx)(n.X,{className:"w-5 h-5"})})]}),(0,l.jsxs)("form",{onSubmit:h,className:"p-6 space-y-5",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"TÃ­tulo *"}),(0,l.jsx)("input",{type:"text",value:p.title,onChange:e=>m({...p,title:e.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-200 focus:outline-none focus:border-violet-500",placeholder:"Ex: Carrossel de 5 dicas de skincare",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"DescriÃ§Ã£o"}),(0,l.jsx)("textarea",{value:p.description,onChange:e=>m({...p,description:e.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-200 focus:outline-none focus:border-violet-500 h-24",placeholder:"Detalhes sobre a task..."})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Tipo *"}),(0,l.jsx)("select",{value:p.type,onChange:e=>m({...p,type:e.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-200 focus:outline-none focus:border-violet-500",required:!0,children:c.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Stage *"}),(0,l.jsx)("select",{value:p.stage,onChange:e=>m({...p,stage:e.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-200 focus:outline-none focus:border-violet-500",required:!0,children:x.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Cliente *"}),(0,l.jsxs)("select",{value:p.client_id,onChange:e=>m({...p,client_id:parseInt(e.target.value)}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-200 focus:outline-none focus:border-violet-500",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Selecione..."}),u.map(e=>(0,l.jsx)("option",{value:e.id,children:e.company_name},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"ðŸ“… Data de Entrega"}),(0,l.jsx)("input",{type:"date",value:p.due_date||"",onChange:e=>m({...p,due_date:e.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-200 focus:outline-none focus:border-violet-500 focus:ring-1 focus:ring-violet-500 cursor-pointer hover:border-slate-600 transition-colors"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-800",children:[(0,l.jsx)("button",{type:"button",onClick:a,className:"px-5 py-2.5 rounded-lg text-slate-400 hover:text-white transition-colors",children:"Cancelar"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2.5 rounded-lg bg-violet-600 hover:bg-violet-700 text-white font-semibold shadow-lg shadow-violet-900/20 transition-all active:scale-95",children:b?"Salvar AlteraÃ§Ãµes":"Criar Task"})]})]})]})}):null}let b=[{id:"backlog",label:"Backlog",color:"border-slate-500/20"},{id:"copy",label:"Copywriting",color:"border-pink-500/20"},{id:"design",label:"Design",color:"border-purple-500/20"},{id:"approval",label:"AprovaÃ§Ã£o",color:"border-yellow-500/20"},{id:"done",label:"ConcluÃ­do",color:"border-emerald-500/20"}];function p(){let{tasks:e,tasksLoading:r,updateTaskStage:i,deleteTask:o}=(0,s.useAppStore)(),[n,d]=(0,t.useState)(!1),[c,x]=(0,t.useState)(null),p=async e=>{await o(e)};return(0,l.jsxs)("div",{className:"h-[calc(100vh-8rem)] flex flex-col animate-in fade-in duration-500",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-slate-100",children:"Workflow de ProduÃ§Ã£o"}),(0,l.jsx)("p",{className:"text-slate-500 text-sm",children:"Acompanhe as tarefas em execuÃ§Ã£o."})]}),(0,l.jsxs)("button",{onClick:()=>{x(null),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-semibold transition-all active:scale-95 shadow-lg shadow-violet-900/20",children:[(0,l.jsx)(a.Plus,{size:18}),"Nova Task"]})]}),r?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,l.jsx)("div",{className:"text-slate-500",children:"Carregando tasks..."})}):(0,l.jsx)("div",{className:"flex gap-4 overflow-x-auto flex-1 pb-4",children:b.map(t=>{var s;return(0,l.jsx)("div",{className:"flex-shrink-0 w-72",children:(0,l.jsxs)("div",{className:`bg-slate-900/20 border ${t.color} rounded-lg p-4 h-full flex flex-col`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"font-semibold text-slate-300 flex items-center gap-2",children:[(0,l.jsx)("span",{className:`w-3 h-3 rounded-full ${"backlog"===(s=t.id)?"bg-slate-500":"copy"===s?"bg-pink-500":"design"===s?"bg-purple-500":"approval"===s?"bg-yellow-500":"done"===s?"bg-emerald-500":"bg-slate-500"}`}),t.label]}),(0,l.jsx)("span",{className:"text-sm text-slate-500 bg-slate-900/50 px-2 py-0.5 rounded-full",children:e.filter(e=>e.stage===t.id).length})]}),(0,l.jsx)("div",{className:"flex-1 space-y-3 overflow-y-auto",children:0===e.filter(e=>e.stage===t.id).length?(0,l.jsx)("div",{className:"text-center text-slate-600 text-sm py-8 italic",children:"Nenhuma task"}):e.filter(e=>e.stage===t.id).map(e=>(0,l.jsx)(m,{task:e,updateStage:i,onEdit:()=>{x(e),d(!0)},onDelete:()=>p(e.id)},e.id))})]})},t.id)})}),(0,l.jsx)(u,{isOpen:n,onClose:()=>{d(!1),x(null)},task:c})]})}function m({task:e,updateStage:t,onEdit:s,onDelete:a}){var n;let d=!!e.due_date&&new Date(e.due_date)<=new Date(Date.now()+2592e5);return(0,l.jsxs)("div",{className:"bg-slate-900 border border-slate-800 p-4 rounded-lg shadow-sm hover:border-slate-700 hover:shadow-lg transition-all group relative",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,l.jsx)("span",{className:`text-[10px] uppercase font-bold px-1.5 py-0.5 rounded border ${"Arte"===(n=e.type)?"bg-purple-500/10 text-purple-400 border-purple-500/20":"TrÃ¡fego"===n?"bg-blue-500/10 text-blue-400 border-blue-500/20":"Web"===n?"bg-cyan-500/10 text-cyan-400 border-cyan-500/20":"bg-slate-500/10 text-slate-400"}`,children:e.type}),(0,l.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,l.jsx)("button",{onClick:s,className:"p-1 text-slate-500 hover:text-violet-400 transition-colors",children:(0,l.jsx)(r.Pencil,{className:"w-3.5 h-3.5"})}),(0,l.jsx)("button",{onClick:a,className:"p-1 text-slate-500 hover:text-red-400 transition-colors",children:(0,l.jsx)(i.Trash2,{className:"w-3.5 h-3.5"})})]})]}),(0,l.jsx)("h3",{className:"font-semibold text-slate-200 mb-1 text-sm leading-tight",children:e.title}),e.description&&(0,l.jsx)("p",{className:"text-xs text-slate-500 mb-3 line-clamp-2",children:e.description}),(0,l.jsx)("p",{className:"text-xs text-slate-500 mb-3 flex items-center gap-1",children:(0,l.jsx)("span",{children:e.client_name})}),e.due_date&&(0,l.jsxs)("div",{className:`flex items-center gap-1 text-xs mb-3 ${d?"text-orange-400":"text-slate-500"}`,children:[(0,l.jsx)(o.Calendar,{className:"w-3 h-3"}),(0,l.jsx)("span",{children:new Date(e.due_date).toLocaleDateString("pt-BR")})]}),(0,l.jsx)("div",{className:"pt-3 border-t border-slate-800/50 mt-2",children:(0,l.jsx)("select",{value:e.stage,onChange:l=>t(e.id,l.target.value),className:"w-full bg-slate-950 text-xs text-slate-400 border border-slate-800 rounded px-2 py-2 focus:border-violet-500 focus:outline-none cursor-pointer hover:bg-slate-900 transition-colors",children:b.map(e=>(0,l.jsx)("option",{value:e.id,children:e.label},e.id))})})]})}e.s(["default",()=>p],33197)}]);