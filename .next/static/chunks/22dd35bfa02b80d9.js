(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82072,e=>{e.v({className:"inter_5972bc34-module__OU16Qa__className"})},18566,(e,t,s)=>{t.exports=e.r(76562)},16015,(e,t,s)=>{},98547,(e,t,s)=>{var a=e.i(47167);e.r(16015);var i=e.r(71645),r=i&&"object"==typeof i&&"default"in i?i:{default:i},l=void 0!==a.default&&a.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,a=void 0===s?"stylesheet":s,i=t.optimizeForSpeed,r=void 0===i?l:i;c(n(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",c("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(l||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(c(n(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return l||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(a){l||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];c(a,"old rule at index `"+e+"` not found"),a.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&c(n(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return s?i.insertBefore(a,s):i.appendChild(a),a},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},u={};function h(e,t){if(!t)return"jsx-"+e;var s=String(t),a=e+s;return u[a]||(u[a]="jsx-"+d(e+"-"+s)),u[a]}function m(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return u[s]||(u[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[s]}var x=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,a=void 0===s?null:s,i=t.optimizeForSpeed,r=void 0!==i&&i;this._sheet=a||new o({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),a&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),a=s.styleId,i=s.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var r=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=r,this._instancesCounts[a]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var a=this._fromServer&&this._fromServer[s];a?(a.parentNode.removeChild(a),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],a=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,a=e.id;if(s){var i=h(a,s);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return m(i,e)}):[m(i,t)]}}return{styleId:h(a),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=i.createContext(null);function f(){return new x}function g(){return i.useContext(p)}p.displayName="StyleSheetContext";var b=r.default.useInsertionEffect||r.default.useLayoutEffect,v="undefined"!=typeof window?f():void 0;function j(e){var t=v||g();return t&&("undefined"==typeof window?t.add(e):b(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}j.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,a=i.useContext(p),l=i.useState(function(){return a||t||f()})[0];return r.default.createElement(p.Provider,{value:l},s)},s.createStyleRegistry=f,s.style=j,s.useStyleRegistry=g},37902,(e,t,s)=>{t.exports=e.r(98547).style},42525,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(82072);let i={className:a.default.className,style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"}};null!=a.default.variable&&(i.variable=a.default.variable);var r=e.i(22016),l=e.i(18566),n=e.i(75254);let o=(0,n.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),c=(0,n.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var d=e.i(78265),u=e.i(47780),h=e.i(12426);let m=(0,n.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),x=(0,n.default)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var p=e.i(84614),f=e.i(96948),g=e.i(39312),b=e.i(63398),v=e.i(37902);let j=(0,n.default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var y=e.i(37727);let N=(0,n.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var w=e.i(27612),k=e.i(18589);let S="ops_notifications",_=(0,s.createContext)(void 0);function C({children:e}){let a=function(){let[e,t]=(0,s.useState)([]),{clients:a,tasks:i,transactions:r}=(0,k.useAppStore)();(0,s.useEffect)(()=>{let e=localStorage.getItem(S);if(e)try{let s=JSON.parse(e).map(e=>({...e,timestamp:new Date(e.timestamp)}));t(s)}catch(e){console.error("Error loading notifications:",e)}},[]),(0,s.useEffect)(()=>{(e.length>0||localStorage.getItem(S))&&localStorage.setItem(S,JSON.stringify(e))},[e]);let l=(0,s.useCallback)((e,s,a,i="medium",r,l)=>{let n={id:`${Date.now()}-${Math.random()}`,type:e,title:s,message:a,icon:{deadline:"â°",followup:"ðŸ“ž",financial:"ðŸ’°",risk:"âš ï¸",achievement:"ðŸŽ‰",suggestion:"ðŸ’¡"}[e],priority:i,timestamp:new Date,read:!1,actionUrl:r,actionLabel:l};return t(e=>[n,...e]),n},[]),n=(0,s.useCallback)(()=>{i&&0!==i.length&&i.forEach(e=>{try{if(!e.title)return}catch(t){console.error("Error checking deadline for task:",e,t)}})},[i,e,l]),o=(0,s.useCallback)(()=>{if(!a||0===a.length)return;let t=new Date;a.forEach(s=>{try{if(!s||!s.company_name||"inativo"===s.status)return;let a=s.created_at?new Date(s.created_at):new Date,i=Math.floor((t.getTime()-a.getTime())/864e5);if(e.some(e=>e.message?.includes(s.company_name||"")&&"followup"===e.type&&!e.read))return;i>=30?l("followup","Cliente precisa de atenÃ§Ã£o!",`${s.company_name} est\xe1 h\xe1 ${i} dias sem contato`,"high","/clients","Contactar agora"):i>=14&&l("followup","Follow-up necessÃ¡rio",`${s.company_name} est\xe1 h\xe1 ${i} dias sem contato`,"medium","/clients","Ver cliente")}catch(e){console.error("Error checking followup for client:",s,e)}})},[a,e,l]),c=(0,s.useCallback)(()=>{if(r&&0!==r.length)try{let t=new Date,s=t.getMonth(),a=t.getFullYear(),i=r.filter(e=>{if(!e||!e.date)return!1;try{let t=new Date(e.date);return t.getMonth()===s&&t.getFullYear()===a}catch{return!1}}),n=i.filter(e=>"receita"===e.type).reduce((e,t)=>e+(t.amount||0),0),o=i.filter(e=>"despesa"===e.type).reduce((e,t)=>e+(t.amount||0),0),c=e.some(e=>"financial"===e.type&&e.message?.includes("despesas")&&!e.read);o>n&&!c&&o>0&&l("financial","AtenÃ§Ã£o Ã s finanÃ§as!",`Despesas (R$ ${o.toFixed(0)}) maiores que receita (R$ ${n.toFixed(0)}) este m\xeas`,"high","/financial","Revisar")}catch(e){console.error("Error checking financials:",e)}},[r,e,l]),d=(0,s.useCallback)(()=>{if(a&&0!==a.length)try{let t=a.filter(e=>e?.status==="inativo").length,s=e.some(e=>"risk"===e.type&&e.message?.includes("inativos")&&!e.read);t>=3&&!s&&l("risk","Muitos clientes inativos",`Voc\xea tem ${t} clientes inativos. Considere reativa\xe7\xe3o.`,"medium","/clients","Ver clientes")}catch(e){console.error("Error checking risks:",e)}},[a,e,l]),u=(0,s.useCallback)(()=>{try{n(),o(),c(),d()}catch(e){console.error("Error running notification checks:",e)}},[n,o,c,d]);(0,s.useEffect)(()=>{u();let e=setInterval(()=>{u()},6e4);return()=>clearInterval(e)},[u]);let h=(0,s.useCallback)(e=>{t(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},[]),m=(0,s.useCallback)(()=>{t(e=>e.map(e=>({...e,read:!0})))},[]),x=(0,s.useCallback)(()=>{t([]),localStorage.removeItem(S)},[]),p=(0,s.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),f=e.filter(e=>!e.read).length;return{notifications:e,unreadCount:f,markAsRead:h,markAllAsRead:m,clearAll:x,deleteNotification:p,createNotification:l}}();return(0,t.jsx)(_.Provider,{value:a,children:e})}var A=e.i(7670);function z(){let[e,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)("all"),{notifications:n,unreadCount:o,markAsRead:c,markAllAsRead:d,deleteNotification:u}=function(){let e=(0,s.useContext)(_);if(void 0===e)throw Error("useNotificationContext must be used within NotificationProvider");return e}(),h="unread"===i?n.filter(e=>!e.read):n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>a(!e),className:"jsx-9695918060db2655 relative p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:[(0,t.jsx)(j,{className:(0,A.clsx)("w-5 h-5",o>0&&"animate-[ring_2s_ease-in-out_infinite]")}),o>0&&(0,t.jsx)("span",{className:"jsx-9695918060db2655 absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse",children:o>9?"9+":o})]}),e&&(0,t.jsx)("div",{onClick:()=>a(!1),className:"jsx-9695918060db2655 fixed inset-0 z-40"}),e&&(0,t.jsxs)("div",{className:"jsx-9695918060db2655 fixed top-16 right-4 w-96 max-h-[600px] bg-slate-900 border border-slate-800 rounded-xl shadow-2xl z-50 flex flex-col",children:[(0,t.jsxs)("div",{className:"jsx-9695918060db2655 p-4 border-b border-slate-800",children:[(0,t.jsxs)("div",{className:"jsx-9695918060db2655 flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"jsx-9695918060db2655 font-semibold text-white",children:"NotificaÃ§Ãµes"}),(0,t.jsx)("button",{onClick:()=>a(!1),className:"jsx-9695918060db2655 p-1 text-slate-500 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"jsx-9695918060db2655 flex gap-2 mb-2",children:[(0,t.jsxs)("button",{onClick:()=>l("all"),className:"jsx-9695918060db2655 "+((0,A.clsx)("flex-1 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors","all"===i?"bg-violet-600 text-white":"bg-slate-800 text-slate-400 hover:text-white")||""),children:["Todas (",n.length,")"]}),(0,t.jsxs)("button",{onClick:()=>l("unread"),className:"jsx-9695918060db2655 "+((0,A.clsx)("flex-1 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors","unread"===i?"bg-violet-600 text-white":"bg-slate-800 text-slate-400 hover:text-white")||""),children:["NÃ£o lidas (",o,")"]})]}),n.length>0&&(0,t.jsxs)("button",{onClick:d,className:"jsx-9695918060db2655 text-xs text-violet-400 hover:text-violet-300 transition-colors flex items-center gap-1",children:[(0,t.jsx)(N,{className:"w-3 h-3"}),"Marcar todas como lidas"]})]}),(0,t.jsx)("div",{className:"jsx-9695918060db2655 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-800 scrollbar-track-transparent",children:0===h.length?(0,t.jsxs)("div",{className:"jsx-9695918060db2655 flex flex-col items-center justify-center h-40 text-center opacity-50",children:[(0,t.jsx)(j,{className:"w-12 h-12 text-slate-700 mb-2"}),(0,t.jsx)("p",{className:"jsx-9695918060db2655 text-sm text-slate-500",children:"unread"===i?"Nenhuma notificaÃ§Ã£o nÃ£o lida":"Nenhuma notificaÃ§Ã£o"})]}):(0,t.jsx)("div",{className:"jsx-9695918060db2655 p-2 space-y-2",children:h.map(e=>{var s;let i;return(0,t.jsx)("div",{className:"jsx-9695918060db2655 "+((0,A.clsx)("p-3 rounded-lg border-l-3 transition-all group hover:bg-slate-800/50",e.read?"bg-slate-950/50 opacity-70":"bg-slate-900",(e=>{switch(e){case"high":return"border-red-500";case"medium":return"border-orange-500";case"low":return"border-blue-500";default:return"border-slate-700"}})(e.priority))||""),children:(0,t.jsxs)("div",{className:"jsx-9695918060db2655 flex gap-3",children:[(0,t.jsx)("div",{className:"jsx-9695918060db2655 text-2xl shrink-0",children:e.icon}),(0,t.jsxs)("div",{className:"jsx-9695918060db2655 flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"jsx-9695918060db2655 flex items-start justify-between gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"jsx-9695918060db2655 font-medium text-sm text-white truncate",children:e.title}),(0,t.jsx)("button",{onClick:()=>u(e.id),className:"jsx-9695918060db2655 opacity-0 group-hover:opacity-100 p-1 text-slate-500 hover:text-red-400 transition-all",children:(0,t.jsx)(w.Trash2,{className:"w-3 h-3"})})]}),(0,t.jsx)("p",{className:"jsx-9695918060db2655 text-xs text-slate-400 mb-2",children:e.message}),(0,t.jsxs)("div",{className:"jsx-9695918060db2655 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"jsx-9695918060db2655 text-xs text-slate-600",children:(s=e.timestamp,(i=Math.floor((new Date().getTime()-new Date(s).getTime())/1e3))<60?"agora mesmo":i<3600?`${Math.floor(i/60)}m atr\xe1s`:i<86400?`${Math.floor(i/3600)}h atr\xe1s`:`${Math.floor(i/86400)}d atr\xe1s`)}),(0,t.jsxs)("div",{className:"jsx-9695918060db2655 flex gap-2",children:[!e.read&&(0,t.jsx)("button",{onClick:()=>c(e.id),className:"jsx-9695918060db2655 text-xs text-violet-400 hover:text-violet-300 transition-colors",children:"Marcar lida"}),e.actionUrl&&(0,t.jsx)(r.default,{href:e.actionUrl,onClick:()=>{c(e.id),a(!1)},className:"text-xs text-violet-400 hover:text-violet-300 font-medium transition-colors",children:e.actionLabel||"Ver"})]})]})]})]})},e.id)})})})]}),(0,t.jsx)(v.default,{id:"9695918060db2655",children:"@keyframes ring{0%,to{transform:rotate(0)}10%,30%{transform:rotate(-10deg)}20%,40%{transform:rotate(10deg)}}"})]})}let R=[{name:"Dashboard",path:"/",icon:o},{name:"Clientes",path:"/clients",icon:c},{name:"Rotina",path:"/routine",icon:d.CheckSquare},{name:"ProduÃ§Ã£o",path:"/production",icon:u.Palette},{name:"Financeiro",path:"/financial",icon:h.DollarSign},{name:"EstratÃ©gia IA",path:"/strategy",icon:x},{name:"Content Studio",path:"/content-studio",icon:f.Wand2},{name:"AutomaÃ§Ãµes",path:"/automations",icon:g.Zap}];function E({isMobileOpen:e,onClose:s}){let a=(0,l.usePathname)(),{profile:i,logout:n}=(0,b.useAuth)();return(0,t.jsxs)(t.Fragment,{children:[e&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:s}),(0,t.jsxs)("aside",{className:`
                w-64 bg-slate-950 border-r border-slate-900 flex flex-col h-screen fixed left-0 top-0 z-50 transition-transform duration-300 ease-in-out
                ${e?"translate-x-0":"-translate-x-full"}
                md:translate-x-0
            `,children:[(0,t.jsxs)("div",{className:"p-6 pb-4 border-b border-slate-900",children:[(0,t.jsx)("img",{src:"/logo-full.png",alt:"OPS Operation",className:"h-14 w-full object-contain mb-4"}),(0,t.jsx)("div",{className:"flex justify-start pl-1",children:(0,t.jsx)(z,{})})]}),(0,t.jsx)("nav",{className:"flex-1 px-4 space-y-2 mt-4",children:R.map(e=>{let i=a===e.path;return(0,t.jsxs)(r.default,{href:e.path,onClick:s,className:`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all ${i?"bg-violet-600/10 text-violet-400 border border-violet-600/20":"text-slate-400 hover:text-white hover:bg-slate-900"}`,children:[(0,t.jsx)(e.icon,{size:20,className:i?"text-violet-400":"text-slate-500"}),e.name]},e.path)})}),(0,t.jsxs)("div",{className:"p-4 border-t border-slate-900 space-y-2",children:[(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-3 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-violet-600/10 border border-violet-600/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(p.User,{className:"w-4 h-4 text-violet-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-white",children:i?.username||"User"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Colaborador"})]})]})}),(0,t.jsxs)("button",{onClick:()=>{confirm("Deseja realmente sair?")&&n()},className:"flex items-center gap-3 px-4 py-3 text-slate-500 hover:text-red-400 hover:bg-slate-900 rounded-lg transition-colors w-full text-sm font-medium",children:[(0,t.jsx)(m,{size:18}),"Sair"]})]})]})]})}var F=e.i(83086),P=e.i(14764);let O=(0,n.default)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);function M(){let[e,a]=(0,s.useState)(!1),[i,r]=(0,s.useState)([]),[n,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),u=(0,s.useRef)(null),h=function(){let e=(0,l.usePathname)(),{clients:t,tasks:a,transactions:i}=(0,k.useAppStore)();return(0,s.useMemo)(()=>{if("/"===e){let e=t.filter(e=>"ativo"===e.status).length,s=i.filter(e=>"receita"===e.type).reduce((e,t)=>e+t.amount,0);return{page:"dashboard",title:"Dashboard",icon:"ðŸ“Š",data:{activeClients:e,revenue:s,totalClients:t.length,totalTasks:a.length},suggestions:[e<5?"âš ï¸ Poucos clientes ativos. Considere prospecÃ§Ã£o.":"",s<1e4?"ðŸ’° Receita baixa este mÃªs. Foque em vendas!":""].filter(Boolean),quickActions:[{id:"analyze",label:"Analisar Performance",icon:"ðŸŽ¯",prompt:"Analise o desempenho geral da agÃªncia e sugira melhorias"},{id:"report",label:"Gerar RelatÃ³rio",icon:"ðŸ“Š",prompt:"Gere um relatÃ³rio executivo do mÃªs atual"},{id:"suggestions",label:"SugestÃµes",icon:"ðŸ’¡",prompt:"DÃª 5 sugestÃµes acionÃ¡veis para melhorar resultados"}]}}if("/clients"===e){let e=t.filter(e=>"inativo"===e.status).length;return{page:"clients",title:"Clientes",icon:"ðŸ‘¥",data:{totalClients:t.length,inactiveClients:e,clients:t.slice(0,5)},suggestions:[e>0?`ðŸ’¼ ${e} clientes inativos. Reativar?`:""].filter(Boolean),quickActions:[{id:"contact",label:"Quem Contactar Hoje",icon:"ðŸ“ž",prompt:"Liste os 3 clientes que devo contactar hoje baseado em quando foi o Ãºltimo contato"},{id:"upsell",label:"Oportunidades Upsell",icon:"ðŸ’°",prompt:"Analise quais clientes tÃªm maior potencial de upsell e novos serviÃ§os"},{id:"risk",label:"Clientes em Risco",icon:"âš ï¸",prompt:"Identifique clientes em risco de churn e sugira aÃ§Ãµes"}]}}if("/routine"===e)return{page:"routine",title:"Rotina",icon:"âœ…",data:{tasks:a.length},suggestions:[],quickActions:[{id:"prioritize",label:"Priorizar Tasks",icon:"ðŸŽ¯",prompt:"Me ajude a priorizar minhas tarefas de hoje"},{id:"next",label:"PrÃ³ximas AÃ§Ãµes",icon:"â°",prompt:"Quais as 3 prÃ³ximas aÃ§Ãµes mais importantes que devo fazer?"},{id:"optimize",label:"Otimizar Agenda",icon:"ðŸ“…",prompt:"Como otimizar minha agenda para ser mais produtivo hoje?"}]};if("/production"===e){let e=a.filter(e=>"done"!==e.stage);return{page:"production",title:"ProduÃ§Ã£o",icon:"ðŸŽ¨",data:{tasks:e,totalTasks:a.length},suggestions:[e.length>10?"ðŸš¨ Muitos projetos em andamento. Priorize!":""].filter(Boolean),quickActions:[{id:"creative",label:"Ideias Criativas",icon:"ðŸŽ¨",prompt:"Gere 5 ideias criativas para conteÃºdo de redes sociais"},{id:"briefing",label:"Gerar Briefing",icon:"ðŸ“",prompt:"Crie um template de briefing criativo completo"},{id:"copy",label:"Escrever Copy",icon:"âœï¸",prompt:"Escreva uma copy persuasiva para um anÃºncio de produto"}]}}if("/financial"===e){let e=i.filter(e=>"receita"===e.type).reduce((e,t)=>e+t.amount,0),t=i.filter(e=>"despesa"===e.type).reduce((e,t)=>e+t.amount,0);return{page:"financial",title:"Financeiro",icon:"ðŸ’°",data:{revenue:e,expenses:t,profit:e-t,transactions:i.length},suggestions:[t>e?"âš ï¸ Despesas maiores que receita! AtenÃ§Ã£o!":""].filter(Boolean),quickActions:[{id:"reduce",label:"Reduzir Custos",icon:"ðŸ’°",prompt:"Analise minhas despesas e sugira onde posso reduzir custos"},{id:"forecast",label:"PrevisÃ£o de Receita",icon:"ðŸ“ˆ",prompt:"Preveja a receita dos prÃ³ximos 3 meses baseado no histÃ³rico"},{id:"analyze",label:"AnÃ¡lise Completa",icon:"ðŸ“Š",prompt:"FaÃ§a uma anÃ¡lise financeira completa e sugira melhorias"}]}}return"/strategy"===e?{page:"strategy",title:"EstratÃ©gia IA",icon:"ðŸ¤–",data:{},suggestions:["ðŸ“Œ Esta pÃ¡gina tem chat IA dedicado"],quickActions:[]}:{page:"dashboard",title:"OPS Operation",icon:"ðŸ¢",data:{},suggestions:[],quickActions:[]}},[e,t,a,i])}(),m=h.suggestions.length>0;(0,s.useEffect)(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[i,c]);let x=async e=>{let t=e||n.trim();if(t&&!c){o(""),r(e=>[...e,{role:"user",content:t}]),d(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,context:{page:h.page,data:h.data}})}),s=(await e.json()).reply||"Erro ao obter resposta.";r(e=>[...e,{role:"assistant",content:s}])}catch(e){console.error(e),r(e=>[...e,{role:"assistant",content:"Erro de conexÃ£o. Verifique o console."}])}finally{d(!1)}}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>a(!0),className:(0,A.clsx)("fixed bottom-6 right-6 w-14 h-14 rounded-full bg-gradient-to-r from-violet-600 to-indigo-600 shadow-xl shadow-violet-900/30 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 z-50 hover:shadow-violet-900/50 group",e&&"scale-0 opacity-0 pointer-events-none"),title:`IA â€¢ ${h.title}`,children:[(0,t.jsx)(F.Sparkles,{className:"w-6 h-6 animate-pulse"}),m&&!e&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse border-2 border-slate-950"})]}),e&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity",onClick:()=>a(!1)}),(0,t.jsxs)("div",{className:(0,A.clsx)("fixed inset-y-0 right-0 w-full md:w-[450px] bg-slate-950 border-l border-slate-800 shadow-2xl transform transition-transform duration-300 ease-in-out z-50 flex flex-col",e?"translate-x-0":"translate-x-full"),children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-800 flex flex-col gap-3 bg-slate-950 shadow-sm z-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-1.5 rounded-md bg-violet-500/10 text-violet-400",children:(0,t.jsx)(F.Sparkles,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"font-bold text-slate-100",children:"AI Assistant"})]}),(0,t.jsx)("button",{onClick:()=>a(!1),className:"p-1.5 text-slate-500 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-900/50 rounded-lg border border-slate-800",children:[(0,t.jsx)("span",{className:"text-lg",children:h.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-slate-400",children:"Analisando"}),(0,t.jsx)("p",{className:"text-sm text-white font-semibold truncate",children:h.title})]})]}),m&&(0,t.jsx)("div",{className:"p-2 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:(0,t.jsxs)("p",{className:"text-xs text-amber-300 font-medium",children:["ðŸ’¡ ",h.suggestions[0]]})})]}),h.quickActions.length>0&&0===i.length&&(0,t.jsxs)("div",{className:"p-4 border-b border-slate-800 bg-slate-950/30",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-slate-500 mb-2",children:"AÃ§Ãµes RÃ¡pidas"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:h.quickActions.map(e=>(0,t.jsxs)("button",{onClick:()=>{x(e.prompt)},disabled:c,className:"px-3 py-1.5 bg-slate-900 hover:bg-violet-600 border border-slate-800 hover:border-violet-600 rounded-lg text-xs font-medium text-slate-300 hover:text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5",children:[(0,t.jsx)("span",{children:e.icon}),(0,t.jsx)("span",{children:e.label})]},e.id))})]}),(0,t.jsx)("div",{className:"flex-1 p-4 overflow-y-auto bg-slate-950/50 relative scrollbar-thin scrollbar-thumb-slate-800 scrollbar-track-transparent",children:0===i.length?(0,t.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-50",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-900 rounded-full flex items-center justify-center border border-slate-800 mb-4 shadow-inner",children:(0,t.jsx)(F.Sparkles,{className:"w-8 h-8 text-violet-500"})}),(0,t.jsx)("h3",{className:"text-slate-200 font-medium mb-2",children:"OPS Intelligence"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 px-8",children:"strategy"===h.page?"Use o chat dedicado desta pÃ¡gina":`Pronto para analisar ${h.title.toLowerCase()}`})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[i.map((e,s)=>(0,t.jsxs)("div",{className:(0,A.clsx)("flex gap-3","user"===e.role?"flex-row-reverse":"flex-row"),children:[(0,t.jsx)("div",{className:(0,A.clsx)("w-8 h-8 rounded-full flex items-center justify-center shrink-0","user"===e.role?"bg-indigo-600":"bg-slate-800"),children:"user"===e.role?(0,t.jsx)(p.User,{className:"w-4 h-4 text-white"}):(0,t.jsx)(O,{className:"w-4 h-4 text-violet-400"})}),(0,t.jsx)("div",{className:(0,A.clsx)("p-3 rounded-2xl max-w-[80%] text-sm whitespace-pre-wrap","user"===e.role?"bg-indigo-600 text-white rounded-tr-none":"bg-slate-800 text-slate-200 rounded-tl-none border border-slate-700"),children:e.content})]},s)),c&&(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center shrink-0",children:(0,t.jsx)(O,{className:"w-4 h-4 text-violet-400"})}),(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 p-3 rounded-2xl rounded-tl-none text-slate-400 text-xs flex items-center gap-1",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,t.jsx)("span",{className:"w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("span",{className:"w-1.5 h-1.5 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),(0,t.jsx)("div",{ref:u})]})}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-800 bg-slate-900",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x()},className:"relative",children:[(0,t.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:`Pergunte sobre ${h.title.toLowerCase()}...`,className:"w-full bg-slate-950 border border-slate-800 text-slate-200 text-sm rounded-xl pl-4 pr-12 py-3.5 focus:outline-none focus:ring-1 focus:ring-violet-500 focus:border-violet-500 placeholder-slate-600 transition-all shadow-inner",disabled:c}),(0,t.jsx)("button",{type:"submit",disabled:!n.trim()||c,className:"absolute right-2 top-2 p-1.5 text-violet-500 hover:text-white bg-violet-500/10 hover:bg-violet-600 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(P.Send,{className:"w-4 h-4"})})]})})]})]})}var T=e.i(55436);function I(){let{isOpen:e,setIsOpen:a,query:i,setQuery:r,results:n,groupedResults:o,selectedIndex:c,selectResult:d}=function(){let[e,t]=(0,s.useState)(!1),[a,i]=(0,s.useState)(""),[r,n]=(0,s.useState)(0),{clients:o,tasks:c,transactions:d}=(0,k.useAppStore)(),u=(0,l.useRouter)();(0,s.useEffect)(()=>{let s=s=>{(s.metaKey||s.ctrlKey)&&"k"===s.key&&(s.preventDefault(),t(!0),i(""),n(0)),"Escape"===s.key&&e&&(t(!1),i(""))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e]);let h=(0,s.useCallback)((e,t)=>{if(!e||!t)return 0;let s=e.toLowerCase(),a=t.toLowerCase();if(s===a)return 100;if(s.startsWith(a))return 80;if(s.includes(a))return 50;let i=0,r=0;for(;i<s.length&&r<a.length;)s[i]===a[r]&&r++,i++;return 30*(r===a.length)},[]),m=(0,s.useMemo)(()=>{if(!a.trim())return[{type:"action",id:"new-client",title:"Novo Cliente",subtitle:"Criar novo cliente",icon:"ðŸ‘¥",score:100,action:()=>{t(!1),u.push("/clients")}},{type:"action",id:"new-task",title:"Nova Task",subtitle:"Criar nova task",icon:"âœ…",score:99,action:()=>{t(!1),u.push("/production")}},{type:"action",id:"new-transaction",title:"Nova TransaÃ§Ã£o",subtitle:"Adicionar receita ou despesa",icon:"ðŸ’°",score:98,action:()=>{t(!1),u.push("/financial")}}];let e=[];return o.forEach(t=>{let s=Math.max(h(t.company_name||"",a),h(t.responsible_name||"",a));s>0&&e.push({type:"client",id:t.id,title:t.company_name||"Sem nome",subtitle:t.responsible_name||"",icon:"ðŸ‘¥",url:`/clients?id=${t.id}`,score:s})}),c.forEach(t=>{let s=Math.max(h(t.title||"",a),h(t.description||"",a));s>0&&e.push({type:"task",id:t.id,title:t.title||"Sem tÃ­tulo",subtitle:t.client_name||"",icon:"âœ…",url:`/production?id=${t.id}`,score:s})}),d.forEach(t=>{let s=Math.max(h(t.description||"",a),h(t.amount?.toString()||"",a));s>0&&e.push({type:"transaction",id:t.id,title:t.description||"Sem descriÃ§Ã£o",subtitle:`R$ ${t.amount?.toFixed(2)} - ${t.type}`,icon:"ðŸ’°",url:"/financial",score:s})}),e.sort((e,t)=>t.score-e.score).slice(0,20)},[a,o,c,d,h,u]),x=(0,s.useMemo)(()=>{let e={clients:[],tasks:[],transactions:[],actions:[]};return m.forEach(t=>{e["client"===t.type?"clients":"task"===t.type?"tasks":"transaction"===t.type?"transactions":"actions"].push(t)}),e},[m]),p=(0,s.useCallback)(e=>{e.action?e.action():e.url&&(u.push(e.url),t(!1),i(""))},[u]),f=(0,s.useCallback)(t=>{e&&("ArrowDown"===t.key?(t.preventDefault(),n(e=>Math.min(e+1,m.length-1))):"ArrowUp"===t.key?(t.preventDefault(),n(e=>Math.max(e-1,0))):"Enter"===t.key&&m[r]&&(t.preventDefault(),p(m[r])))},[e,m,r,p]);return(0,s.useEffect)(()=>(window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)),[f]),(0,s.useEffect)(()=>{n(0)},[a]),{isOpen:e,setIsOpen:t,query:a,setQuery:i,results:m,groupedResults:x,selectedIndex:r,selectResult:p}}(),u=(0,s.useRef)(null);if((0,s.useEffect)(()=>{e&&u.current&&u.current.focus()},[e]),!e)return null;let h={clients:{title:"Clientes",icon:"ðŸ‘¥"},tasks:{title:"Tasks",icon:"âœ…"},transactions:{title:"TransaÃ§Ãµes",icon:"ðŸ’°"},actions:{title:"AÃ§Ãµes RÃ¡pidas",icon:"âš¡"}},m=0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:()=>a(!1)}),(0,t.jsx)("div",{className:"fixed top-[20%] left-1/2 -translate-x-1/2 w-full max-w-2xl z-[101] px-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in slide-in-from-top-4 duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-4 border-b border-slate-800",children:[(0,t.jsx)(T.Search,{className:"w-5 h-5 text-slate-500 shrink-0"}),(0,t.jsx)("input",{ref:u,type:"text",value:i,onChange:e=>r(e.target.value),placeholder:"Buscar clientes, tasks, transaÃ§Ãµes...",className:"flex-1 bg-transparent text-white text-lg placeholder-slate-500 outline-none"}),(0,t.jsx)("button",{onClick:()=>a(!1),className:"p-1 text-slate-500 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"max-h-[500px] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-800 scrollbar-track-transparent",children:0===n.length?(0,t.jsx)("div",{className:"px-4 py-12 text-center text-slate-500",children:i?"Nenhum resultado encontrado":"Digite para buscar..."}):(0,t.jsx)("div",{className:"p-2",children:Object.entries(o).map(([e,s])=>{if(0===s.length)return null;let a=h[e];return(0,t.jsxs)("div",{className:"mb-4 last:mb-0",children:[(0,t.jsxs)("div",{className:"px-3 py-2 text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[(0,t.jsx)("span",{children:a.icon}),(0,t.jsx)("span",{children:a.title}),(0,t.jsxs)("span",{className:"text-slate-700",children:["(",s.length,")"]})]}),(0,t.jsx)("div",{className:"space-y-1",children:s.map(e=>{let s=m++===c;return(0,t.jsxs)("button",{onClick:()=>d(e),className:(0,A.clsx)("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all",s?"bg-violet-600 text-white":"hover:bg-slate-800 text-slate-300"),children:[(0,t.jsx)("span",{className:"text-2xl shrink-0",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:(0,A.clsx)("text-sm font-medium truncate",s?"text-white":"text-slate-200"),children:e.title}),e.subtitle&&(0,t.jsx)("p",{className:(0,A.clsx)("text-xs truncate",s?"text-violet-200":"text-slate-500"),children:e.subtitle})]}),s&&(0,t.jsx)("span",{className:"text-xs text-violet-200 shrink-0",children:"Enter â†µ"})]},`${e.type}-${e.id}`)})})]},e)})})}),(0,t.jsxs)("div",{className:"px-4 py-3 border-t border-slate-800 flex items-center justify-between text-xs text-slate-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{children:"â†‘â†“ Navegar"}),(0,t.jsx)("span",{children:"Enter Abrir"}),(0,t.jsx)("span",{children:"ESC Fechar"})]}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Cmd+K para buscar"})]})]})})]})}let q=(0,n.default)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);var D=e.i(7233);let $=(0,n.default)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);function L(){let[e,a]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone,s=localStorage.getItem("ios-install-dismissed");if(e&&!t&&!s){let e=setTimeout(()=>{a(!0)},2e3);return()=>clearTimeout(e)}},[]);let i=()=>{a(!1),localStorage.setItem("ios-install-dismissed","true")};return e?(0,t.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-in slide-in-from-bottom duration-300",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:i}),(0,t.jsx)("div",{className:"relative bg-gradient-to-br from-slate-900 to-slate-800 border-t border-violet-600/30 shadow-2xl",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,t.jsx)("button",{onClick:i,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{size:20})}),(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-600 to-violet-700 flex items-center justify-center flex-shrink-0 shadow-lg",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-white",children:"OPS"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:"Instalar OPS Operation"}),(0,t.jsx)("p",{className:"text-sm text-slate-300 mb-4",children:"Adicione Ã  tela inicial para acesso rÃ¡pido como um app"}),(0,t.jsx)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700 mb-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-violet-600/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("span",{className:"text-violet-400 font-bold text-sm",children:"1"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm text-slate-200",children:["Toque no botÃ£o ",(0,t.jsx)("strong",{className:"text-white",children:"Compartilhar"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-blue-400",children:[(0,t.jsx)(q,{size:18,strokeWidth:2.5}),(0,t.jsx)("span",{className:"text-xs",children:"(na barra inferior)"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-violet-600/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("span",{className:"text-violet-400 font-bold text-sm",children:"2"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm text-slate-200",children:["Selecione ",(0,t.jsx)("strong",{className:"text-white",children:'"Adicionar Ã  Tela de InÃ­cio"'})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-slate-400",children:[(0,t.jsx)(D.Plus,{size:18,strokeWidth:2.5}),(0,t.jsx)($,{size:14})]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-violet-600/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("span",{className:"text-violet-400 font-bold text-sm",children:"3"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm text-slate-200",children:["Confirme clicando em ",(0,t.jsx)("strong",{className:"text-white",children:'"Adicionar"'})]}),(0,t.jsx)("p",{className:"text-xs text-green-400 mt-1",children:"âœ“ Pronto! Ãcone aparecerÃ¡ na tela inicial"})]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:i,className:"flex-1 px-4 py-2.5 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-lg transition-colors text-sm",children:"Agora nÃ£o"}),(0,t.jsx)("button",{onClick:()=>{a(!1),localStorage.setItem("ios-install-dismissed","permanent")},className:"px-4 py-2.5 text-slate-400 hover:text-white font-medium rounded-lg transition-colors text-sm",children:"NÃ£o mostrar novamente"})]})]})]})]})})]}):null}var B=e.i(36185);function U(){let[e,a]=(0,s.useState)("default"),[i,r]=(0,s.useState)(!1),[l,n]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,B.isNotificationSupported)();if(n(e),!e)return;let t=(0,B.getPermissionStatus)();a(t);let s=localStorage.getItem("push_prompt_dismissed");if("default"===t&&!s){let e=setTimeout(()=>{r(!0)},3e3);return()=>clearTimeout(e)}},[]);let o=async()=>{await (0,B.requestNotificationPermission)()?(a("granted"),await (0,B.subscribeToPush)(),await (0,B.sendTestNotification)()):a("denied"),r(!1)},c=()=>{r(!1),localStorage.setItem("push_prompt_dismissed","true")};return l&&i&&"default"===e?(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom duration-300",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-violet-600/50 shadow-2xl max-w-sm p-5 relative",children:[(0,t.jsx)("button",{onClick:c,className:"absolute top-3 right-3 text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{size:18})}),(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-violet-600/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(j,{className:"text-violet-400",size:24})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-bold text-white mb-1",children:"Ativar NotificaÃ§Ãµes?"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Receba alertas das automaÃ§Ãµes no celular, mesmo com o app fechado"})]})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 ml-16",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,t.jsx)(N,{size:16,className:"text-green-400"}),(0,t.jsx)("span",{children:"Alertas de tasks atrasadas"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,t.jsx)(N,{size:16,className:"text-green-400"}),(0,t.jsx)("span",{children:"Follow-ups automÃ¡ticos"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,t.jsx)(N,{size:16,className:"text-green-400"}),(0,t.jsx)("span",{children:"Funciona no celular"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("button",{onClick:o,className:"w-full px-4 py-2.5 bg-violet-600 hover:bg-violet-700 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(j,{size:18}),"Permitir NotificaÃ§Ãµes"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:c,className:"flex-1 px-3 py-2 text-sm text-slate-400 hover:text-white transition-colors",children:"Agora nÃ£o"}),(0,t.jsx)("button",{onClick:()=>{r(!1),localStorage.setItem("push_prompt_dismissed","permanent")},className:"flex-1 px-3 py-2 text-sm text-slate-400 hover:text-white transition-colors",children:"NÃ£o mostrar"})]})]})]})}):null}var V=e.i(31446);function W(){let{getActiveAutomations:e,runAutomationsNow:t}=(0,V.useAutomations)(),{clients:a,tasks:i,transactions:r}=(0,k.useAppStore)();return(0,s.useEffect)(()=>{console.log("ðŸ¤– [Scheduler] Starting automation scheduler...");let s=setInterval(async()=>{let s=e();if(s.length>0){console.log(`ðŸ”„ [Scheduler] Running ${s.length} automations...`);try{await t({clients:a,tasks:i,transactions:r,user:{}}),console.log("âœ… [Scheduler] Automations completed")}catch(e){console.error("âŒ [Scheduler] Error running automations:",e)}}},3e5);return()=>{console.log("ðŸ›‘ [Scheduler] Stopping automation scheduler"),clearInterval(s)}},[a,i,r,e,t]),null}let H=(0,n.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function K(){let[e,a]=(0,s.useState)(""),[i,r]=(0,s.useState)(!1),{login:l}=(0,b.useAuth)(),n=async e=>{r(!0);try{await l(e)}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("img",{src:"/logo-full.png",alt:"OPS Operation",className:"h-24 w-auto mx-auto mb-8"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Selecione seu usuÃ¡rio"})]}),(0,t.jsx)("div",{className:"space-y-3",children:b.COLLABORATORS.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>n(e.email),disabled:i,className:"w-full bg-slate-900 hover:bg-slate-800 border border-slate-800 hover:border-violet-600/50 rounded-xl px-6 py-4 text-left transition-all group disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-violet-600/10 rounded-full flex items-center justify-center group-hover:bg-violet-600/20 transition-colors",children:(0,t.jsx)("span",{className:"text-xl font-bold text-violet-400",children:e.username.charAt(0)})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-white group-hover:text-violet-300 transition-colors",children:e.username}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.email})]}),(0,t.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)("div",{className:"w-2 h-2 bg-violet-400 rounded-full"})})]})},e.email))}),(0,t.jsx)("p",{className:"text-center text-xs text-slate-600 mt-8",children:"Ops Operation v2.0 - Powered by Supabase"})]})})}function X({children:e}){return(0,t.jsxs)("html",{lang:"en",className:"dark",children:[(0,t.jsxs)("head",{children:[(0,t.jsx)("meta",{name:"theme-color",content:"#8b5cf6"}),(0,t.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,t.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),(0,t.jsx)("meta",{name:"apple-mobile-web-app-title",content:"OPS Operation"}),(0,t.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,t.jsx)("link",{rel:"icon",href:"/icons/icon-192.png"}),(0,t.jsx)("link",{rel:"apple-touch-icon",href:"/icons/icon-180.png"})]}),(0,t.jsx)("body",{className:i.className,children:(0,t.jsx)(b.AuthProvider,{children:(0,t.jsx)(k.AppProvider,{children:(0,t.jsx)(C,{children:(0,t.jsx)(G,{children:e})})})})})]})}function G({children:e}){let[a,i]=(0,s.useState)(!1),{isAuthenticated:r}=(0,b.useAuth)();return((0,s.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("âœ… Service Worker registered:",e.scope)}).catch(e=>{console.log("âŒ Service Worker registration failed:",e)})},[]),r)?(0,t.jsxs)("div",{className:"min-h-screen flex bg-slate-950 text-slate-50",children:[(0,t.jsx)(E,{isMobileOpen:a,onClose:()=>i(!1)}),(0,t.jsxs)("div",{className:"fixed top-0 left-0 right-0 h-14 md:h-16 bg-slate-950/90 backdrop-blur-md border-b border-slate-900 z-30 flex items-center px-4 md:hidden",children:[(0,t.jsx)("button",{onClick:()=>i(!0),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-900 rounded-lg transition-colors",children:(0,t.jsx)(H,{size:24})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,t.jsx)("img",{src:"/logo-icon.png",alt:"OPS Operation",className:"w-7 h-7 rounded-lg"}),(0,t.jsx)("h1",{className:"text-white font-bold text-sm",children:"OPS Operation"})]})]}),(0,t.jsx)("main",{className:"flex-1 md:ml-64 pt-14 md:pt-0 p-4 md:p-8 w-full min-h-screen overflow-x-hidden",children:e}),(0,t.jsx)(M,{}),(0,t.jsx)(I,{}),(0,t.jsx)(L,{}),(0,t.jsx)(U,{}),(0,t.jsx)(W,{})]}):(0,t.jsx)(K,{})}e.s(["default",()=>X],42525)}]);