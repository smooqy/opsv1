module.exports=[5151,a=>{"use strict";let b=(0,a.i(70106).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],5151)},35819,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(8406),e=a.i(92759),f=a.i(70106);let g=(0,f.default)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),h=(0,f.default)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var i=a.i(5151),j=a.i(54347);let k=(0,f.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var l=a.i(46842);let m=(0,f.default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),n=[{id:1,name:"Ana Silva",business:"Beauty Spa"},{id:2,name:"Carlos Oliveira",business:"Tech Solutions"},{id:3,name:"Mariana Costa",business:"Doces Gourmet"}];function o(){let[a,f]=(0,c.useState)(n[0]),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(null),A=(0,c.useRef)(null),B=(0,c.useRef)(null);(0,c.useEffect)(()=>{A.current&&(A.current.scrollTop=A.current.scrollHeight)},[q,u]),(0,c.useEffect)(()=>{r([]),x("")},[a]);let C=async()=>{if(!s.trim()&&!y)return;let b={role:"user",content:s};r(a=>[...a,b]),t(""),v(!0),x("");try{let c=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({history:[...q,b],imageBase64:y,context:{clientName:a.name,clientBusiness:a.business}})}),d=await c.json();if(!c.ok)throw Error(d.error||"Erro na resposta da API");if(!d.reply)throw Error("A IA não retornou texto.");let e=!1,f=null;try{(f=JSON.parse(d.reply)).ideas&&(e=!0)}catch(a){}r(a=>[...a,{role:"assistant",content:d.reply,isJson:e,parsedContent:f}]),z(null)}catch(a){console.error("Erro no frontend:",a),x("Erro ao conectar com a IA. Verifique se o servidor está rodando."),r(a=>[...a,{role:"assistant",content:"❌ Ocorreu um erro ao processar sua mensagem."}])}finally{v(!1)}};return(0,b.jsxs)("div",{className:"flex flex-col h-[calc(100vh-3.5rem)] md:h-screen bg-slate-950 text-white overflow-hidden",children:[(0,b.jsx)("div",{className:"border-b border-slate-900 bg-slate-950/90 backdrop-blur-sm p-3 md:p-4 relative z-10 flex-shrink-0",children:(0,b.jsxs)("div",{className:"w-full flex items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[(0,b.jsx)(d.Sparkles,{size:20,className:"text-violet-500 flex-shrink-0 md:w-6 md:h-6"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("h1",{className:"text-base md:text-lg font-bold text-white truncate",children:"Estratégia IA"}),(0,b.jsx)("p",{className:"text-[10px] md:text-xs text-slate-500 hidden sm:block",children:"Gerador de Conteúdo Inteligente"})]})]}),(0,b.jsxs)("div",{className:"relative z-50 flex-shrink-0",children:[(0,b.jsxs)("button",{onClick:()=>p(!o),className:"flex items-center gap-2 md:gap-3 bg-slate-900 hover:bg-slate-800 border border-slate-800 rounded-lg md:rounded-xl px-2 md:px-4 py-1.5 md:py-2.5 transition-all",children:[(0,b.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-violet-600 flex items-center justify-center font-bold text-xs md:text-sm flex-shrink-0",children:a.name.charAt(0)}),(0,b.jsxs)("div",{className:"text-left hidden sm:block",children:[(0,b.jsx)("p",{className:"text-xs md:text-sm font-bold text-white",children:a.name}),(0,b.jsx)("p",{className:"text-[9px] md:text-[10px] text-slate-400",children:a.business})]}),(0,b.jsx)(k,{size:14,className:"text-slate-500 hidden sm:block"})]}),o&&(0,b.jsx)("div",{className:"absolute top-full right-0 mt-2 bg-slate-900 border border-slate-800 rounded-xl shadow-2xl z-[100] min-w-[200px] md:min-w-[250px] overflow-hidden",children:n.map(a=>(0,b.jsxs)("button",{onClick:()=>{f(a),p(!1)},className:"w-full text-left p-3 hover:bg-slate-800 flex items-center gap-3 border-b border-slate-800/50 last:border-0",children:[(0,b.jsx)(l.User,{size:14,className:"text-slate-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:a.name})]},a.id))})]})]})}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col bg-slate-950 relative overflow-hidden min-h-0",children:[(0,b.jsxs)("div",{ref:A,className:"flex-1 overflow-y-auto p-3 md:p-8 space-y-4 md:space-y-8 pb-32",children:[0===q.length&&(0,b.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 opacity-60 px-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-slate-900 rounded-3xl flex items-center justify-center mb-4 md:mb-6 border border-slate-800",children:(0,b.jsx)(d.Sparkles,{size:32,className:"text-violet-500 md:w-10 md:h-10"})}),(0,b.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"Ops IA 2.5"}),(0,b.jsxs)("p",{className:"text-xs md:text-sm max-w-md text-center",children:["Estou pronto para criar estratégias visuais para ",(0,b.jsx)("span",{className:"text-violet-400 font-bold",children:a.business}),"."]}),(0,b.jsxs)("div",{className:"mt-6 md:mt-8 grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-3 w-full max-w-md",children:[(0,b.jsx)("button",{onClick:()=>t("3 ideias para vender essa semana"),className:"px-3 md:px-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-xs hover:border-violet-500 hover:text-white transition-all text-left",children:'"3 ideias para vender essa semana"'}),(0,b.jsx)("button",{onClick:()=>t("Ideia de Reels viral mostrando bastidores"),className:"px-3 md:px-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-xs hover:border-violet-500 hover:text-white transition-all text-left",children:'"Ideia de Reels de bastidores"'})]})]}),q.map((a,c)=>(0,b.jsx)("div",{className:"w-full animate-in slide-in-from-bottom-2 duration-300",children:"user"===a.role?(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("div",{className:"bg-violet-600 text-white p-4 rounded-2xl rounded-tr-none max-w-[85%] text-sm shadow-md",children:a.content})}):a.isJson&&a.parsedContent?(0,b.jsxs)("div",{className:"w-full space-y-4 animate-in fade-in duration-500",children:[(0,b.jsx)("div",{className:"bg-slate-800/50 text-slate-300 p-4 rounded-2xl rounded-tl-none border border-slate-700 text-sm",children:a.parsedContent.reply}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-4",children:a.parsedContent.ideas.map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-950 border border-slate-800 rounded-xl overflow-hidden hover:border-violet-500/50 transition-all group shadow-sm flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-900 bg-slate-900/30 flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase text-violet-300 bg-violet-500/10 px-2 py-1 rounded border border-violet-500/20",children:a.format}),(0,b.jsx)("h4",{className:"text-white font-bold text-sm mt-2",children:a.title})]}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.title,void alert(`✅ "${b}" enviado para Produ\xe7\xe3o!`)},className:"text-slate-400 hover:text-white hover:bg-emerald-500 p-2 rounded-lg transition-all",children:(0,b.jsx)(h,{size:20})})]}),(0,b.jsx)("div",{className:"p-4 space-y-2 flex-1",children:(0,b.jsx)("p",{className:"text-slate-400 text-xs leading-relaxed",children:a.description})}),a.visual_prompt&&(0,b.jsxs)("div",{className:"bg-black/40 p-3 flex gap-3 items-center cursor-pointer hover:bg-black/60",onClick:()=>navigator.clipboard.writeText(a.visual_prompt),children:[(0,b.jsx)(j.Palette,{size:14,className:"text-slate-500 shrink-0"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 font-mono truncate flex-1",children:a.visual_prompt}),(0,b.jsx)(i.Copy,{size:14,className:"text-slate-500 hover:text-violet-400"})]})]},c))})]}):(0,b.jsx)("div",{className:"flex justify-start",children:(0,b.jsx)("div",{className:"bg-slate-800 text-slate-200 p-4 rounded-2xl rounded-tl-none max-w-[85%] text-sm border border-slate-700 whitespace-pre-wrap",children:a.content})})},c)),u&&(0,b.jsxs)("div",{className:"flex items-center gap-3 text-slate-500 ml-4",children:[(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-violet-500 rounded-full animate-bounce"}),(0,b.jsx)("span",{className:"w-2 h-2 bg-violet-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,b.jsx)("span",{className:"w-2 h-2 bg-violet-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,b.jsx)("span",{className:"text-xs",children:"Analisando e criando pautas..."})]}),w&&(0,b.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-red-900/20 border border-red-500/30 rounded-xl text-red-400 text-sm",children:[(0,b.jsx)(m,{size:18}),(0,b.jsx)("span",{children:w})]})]}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-3 md:p-6 bg-gradient-to-t from-slate-950 via-slate-950 to-transparent",children:(0,b.jsxs)("div",{className:"w-full max-w-5xl mx-auto",children:[y&&(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3 bg-slate-900/80 p-2 rounded-lg w-fit border border-slate-800 backdrop-blur-sm",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded bg-slate-800 overflow-hidden",children:(0,b.jsx)("img",{src:y,className:"w-full h-full object-cover",alt:"Upload"})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-xs text-white font-bold",children:"Imagem Anexada"}),(0,b.jsx)("span",{className:"text-[10px] text-slate-400",children:"Será usada para análise visual"})]}),(0,b.jsx)("button",{onClick:()=>z(null),className:"ml-2 p-1 hover:bg-slate-800 rounded text-slate-400 hover:text-red-400",children:"×"})]}),(0,b.jsxs)("div",{className:"flex gap-2 md:gap-3 bg-slate-900 p-2 rounded-xl md:rounded-2xl border border-slate-800 focus-within:border-violet-600 focus-within:ring-1 focus-within:ring-violet-600/50 shadow-2xl transition-all",children:[(0,b.jsx)("button",{onClick:()=>B.current?.click(),className:"p-2 md:p-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg md:rounded-xl transition-colors flex-shrink-0",children:(0,b.jsx)(g,{size:18,className:"md:w-5 md:h-5"})}),(0,b.jsx)("input",{ref:B,type:"file",className:"hidden",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){let a=new FileReader;a.onloadend=()=>z(a.result),a.readAsDataURL(b)}}}),(0,b.jsx)("input",{value:s,onChange:a=>t(a.target.value),onKeyDown:a=>"Enter"===a.key&&!a.shiftKey&&C(),placeholder:"Converse com o estrategista...",className:"flex-1 bg-transparent text-sm text-white placeholder:text-slate-600 outline-none min-w-0"}),(0,b.jsx)("button",{onClick:C,disabled:u||!s&&!y,className:"p-2 md:p-3 bg-violet-600 hover:bg-violet-500 text-white rounded-lg md:rounded-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-violet-900/20 transition-all active:scale-95 flex-shrink-0",children:(0,b.jsx)(e.Send,{size:16,className:"md:w-[18px] md:h-[18px]"})})]}),(0,b.jsx)("p",{className:"text-center text-[9px] md:text-[10px] text-slate-600 mt-2 md:mt-3",children:"A IA pode cometer erros. Revise as pautas antes de enviar para produção."})]})})]})]})}a.s(["default",()=>o],35819)}];

//# sourceMappingURL=_6f541b7c._.js.map