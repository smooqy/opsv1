module.exports=[43285,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/dynamic-access-async-storage.external.js",()=>require("next/dist/server/app-render/dynamic-access-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},46842,a=>{"use strict";let b=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},51234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e({error:a}){if(d){let b=d.getStore();if(b?.isStaticGeneration)throw a&&console.error(a),a}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40622,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return h}});let d=a.r(87924),e=a.r(51234),f={fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},g={fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"},h=function({error:a}){let b=a?.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:a}),(0,d.jsx)("div",{style:f,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:g,children:["Application error: a ",b?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",b?"server logs":"browser console"," for more information)."]}),b?(0,d.jsx)("p",{style:g,children:`Digest: ${b}`}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},90525,a=>{"use strict";let b=(0,a.i(70106).default)("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);a.s(["CheckSquare",()=>b],90525)},54347,a=>{"use strict";let b=(0,a.i(70106).default)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);a.s(["Palette",()=>b],54347)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);a.s(["Send",()=>b],92759)},8406,a=>{"use strict";let b=(0,a.i(70106).default)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);a.s(["Sparkles",()=>b],8406)},1027,a=>{"use strict";let b=(0,a.i(70106).default)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);a.s(["Zap",()=>b],1027)},78156,a=>{"use strict";let b=(0,a.i(70106).default)("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);a.s(["Wand2",()=>b],78156)},27833,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.createContext)(void 0),e=[{email:"luissantunes031@gmail.com",username:"Luis"},{email:"guiferreirahosken13@gmail.com",username:"Gui"},{email:"jotawxw@gmail.com",username:"JP"}];function f({children:a}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0);(0,c.useEffect)(()=>{i(!1)},[]);let j=async a=>{console.log("ðŸ” Login com email:",a);try{let b=e.find(b=>b.email===a);if(!b)throw Error("Email nÃ£o encontrado");let c={id:`user-${Date.now()}`,email:a,username:b.username,display_name:b.username};console.log("âœ… Login bem-sucedido:",c),g(c)}catch(a){throw console.error("âŒ Erro ao fazer login:",a),a}};return(0,b.jsx)(d.Provider,{value:{user:f,profile:f,isAuthenticated:!!f,isLoading:h,login:j,logout:()=>{g(null)}},children:a})}function g(){let a=(0,c.useContext)(d);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}a.s(["AuthProvider",()=>f,"COLLABORATORS",0,e,"useAuth",()=>g])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},70106,a=>{"use strict";var b=a.i(72131),c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(a,d)=>{let e=(0,b.forwardRef)(({color:e="currentColor",size:f=24,strokeWidth:g=2,absoluteStrokeWidth:h,className:i="",children:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...c,width:f,height:f,stroke:e,strokeWidth:h?24*Number(g)/Number(f):g,className:["lucide",`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,i].join(" "),...k},[...d.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(j)?j:[j]]));return e.displayName=`${a}`,e};a.s(["default",()=>d],70106)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},98621,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.s(["clsx",()=>b])},90166,a=>{"use strict";let b=(0,a.i(70106).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},78625,a=>{"use strict";function b(){return"Notification"in window&&"serviceWorker"in navigator}function c(){return b()?Notification.permission:"denied"}async function d(){if(!b())return console.warn("[Push] Notifications not supported"),!1;if("granted"===Notification.permission)return!0;try{let a=await Notification.requestPermission();return console.log("[Push] Permission result:",a),"granted"===a}catch(a){return console.error("[Push] Error requesting permission:",a),!1}}async function e(){if(!b())return null;try{let a=await navigator.serviceWorker.ready,b=await a.pushManager.getSubscription();if(b)return console.log("[Push] Already subscribed"),b;return b=await a.pushManager.subscribe({userVisibleOnly:!0}),console.log("[Push] New subscription created"),localStorage.setItem("push_subscription",JSON.stringify(b.toJSON())),b}catch(a){return console.error("[Push] Error subscribing:",a),null}}async function f(a,c,d){if(!b())return console.warn("[Push] Notifications not supported"),!1;if("granted"!==Notification.permission)return console.warn("[Push] Permission not granted"),!1;try{let b=await navigator.serviceWorker.ready;return await b.showNotification(a,{body:c,icon:"/icons/icon-192.png",badge:"/icons/icon-192.png",vibrate:[200,100,200],data:{url:d||"/"},actions:[{action:"open",title:"Abrir"},{action:"close",title:"Fechar"}],tag:"ops-local-"+Date.now(),requireInteraction:!1}),console.log("[Push] Local notification sent:",a),!0}catch(a){return console.error("[Push] Error sending local notification:",a),!1}}async function g(){return f("ðŸŽ‰ NotificaÃ§Ãµes Ativadas!","VocÃª receberÃ¡ alertas das automaÃ§Ãµes aqui.","/")}a.s(["getPermissionStatus",()=>c,"isNotificationSupported",()=>b,"requestNotificationPermission",()=>d,"sendTestNotification",()=>g,"subscribeToPush",()=>e])},5580,a=>{"use strict";function b(a,b,d){return!a||0===a.length||a.every(a=>(function(a,b,d){let{field:e,operator:f,value:g,unit:h}=a,i=c(b,e);if(void 0===i)return!1;switch(f){case"equals":return i===g;case"notEquals":return i!==g;case"greaterThan":return Number(i)>Number(g);case"lessThan":return Number(i)<Number(g);case"contains":return String(i).toLowerCase().includes(String(g).toLowerCase());case"olderThan":return function(a,b,c){let d=new Date(a);if(isNaN(d.getTime()))return!1;let e=new Date().getTime()-d.getTime(),f=0;switch(c){case"days":f=24*b*36e5;break;case"hours":f=60*b*6e4;break;case"minutes":f=60*b*1e3}return e>f}(i,g,h||"days");default:return!1}})(a,b,0))}function c(a,b){return b.split(".").reduce((a,b)=>a?.[b],a)}function d(a,b){return a.replace(/\{([^}]+)\}/g,(a,d)=>{let e=c(b,d);return void 0!==e?String(e):a})}a.s(["evaluateConditions",()=>b,"replaceVariables",()=>d])},14868,a=>{"use strict";var b=a.i(72131),c=a.i(5580);async function d(a,b,c){try{switch(a.type){case"createTask":return await f(a,b,c);case"notify":return await g(a,b,c);case"updateField":return await h(a,b,c);case"aiSuggest":return await i(a,b,c);default:return{success:!1,error:"Unknown action type"}}}catch(a){return{success:!1,error:a.message}}}async function e(a,b,c){let e=[],f=[];for(let g of a){let a=await d(g,b,c);e.push(a),a.success||f.push(a.error||"Unknown error")}return{success:0===f.length,results:e,errors:f}}async function f(a,b,d){let{title:e,description:f,priority:g,stage:h}=a.data,i={id:Date.now(),title:(0,c.replaceVariables)(e,b),description:f?(0,c.replaceVariables)(f,b):"",priority:g||"medium",stage:h||"To Do",status:"pending",createdAt:new Date,automated:!0};return console.log("âœ… [Automation] Created task:",i),{success:!0,result:i}}async function g(a,b,d){let e=(0,c.replaceVariables)(a.message,b),f=a.title?(0,c.replaceVariables)(a.title,b):"AutomaÃ§Ã£o",g={id:Date.now().toString(),type:"automation",title:f,message:e,timestamp:new Date,read:!1};return console.log("ðŸ”” [Automation] Notification:",g),{success:!0,result:g}}async function h(a,b,c){let{entity:d,field:e,value:f}=a;return console.log(`ðŸ”„ [Automation] Update ${d}.${e} = ${f}`),{success:!0,result:{entity:d,field:e,value:f}}}async function i(a,b,c){let{context:d}=a;return console.log("ðŸ’¡ [Automation] AI Suggestion for context:",d),{success:!0,result:{context:d,suggestion:"AI suggestion would appear here",confidence:85}}}async function j(a,b){let d={id:Date.now().toString(),automationId:a.id,executedAt:new Date,success:!1};try{if(console.log(`ðŸ¤– [Engine] Running automation: ${a.name}`),!a.enabled)return d.error="Automation is disabled",console.log("â¸ï¸  [Engine] Automation disabled, skipping"),d;let f=function(a,b){let{trigger:c}=a;switch(c.type){case"time":case"condition":return b.clients||[];case"event":switch(c.entity){case"client":return b.clients||[];case"task":return b.tasks||[];case"transaction":return b.transactions||[];default:return[]}default:return[]}}(a,b),g=0;for(let d of f)if((0,c.evaluateConditions)(a.conditions,d,b)){console.log(`âœ… [Engine] Conditions met for:`,d);let c=await e(a.actions,d,b);c.success?g++:console.error("âŒ [Engine] Action errors:",c.errors)}d.success=!0,d.result={itemsChecked:f.length,actionsExecuted:g},console.log(`âœ… [Engine] Automation completed: ${g} actions executed`)}catch(a){d.error=a.message,console.error("âŒ [Engine] Automation error:",a)}return d}async function k(a,b){console.log(`ðŸš€ [Engine] Running ${a.length} automations`);let c=[];for(let d of a)if(d.enabled){let a=await j(d,b);c.push(a)}return console.log(`âœ… [Engine] All automations completed`),c}a.i(78625);let l=[{name:"Follow-up Cliente Inativo",description:"Cria uma task de follow-up para clientes sem contato hÃ¡ 7+ dias",enabled:!1,category:"client",trigger:{type:"time",interval:"daily"},conditions:[{field:"lastContact",operator:"olderThan",value:7,unit:"days"}],actions:[{type:"createTask",data:{title:"Follow-up: {name}",description:"Cliente sem contato hÃ¡ mais de 7 dias. Agendar reuniÃ£o ou enviar mensagem.",priority:"high"}},{type:"notify",title:"Cliente Inativo",message:"Cliente {name} estÃ¡ sem contato hÃ¡ 7 dias"}]},{name:"Alerta Task Atrasada",description:"Notifica quando uma task estÃ¡ atrasada",enabled:!1,category:"task",trigger:{type:"time",interval:"daily"},conditions:[{field:"deadline",operator:"olderThan",value:0,unit:"days"},{field:"status",operator:"notEquals",value:"concluida"}],actions:[{type:"notify",title:"âš ï¸ Task Atrasada",message:'A task "{title}" estÃ¡ atrasada!'}]},{name:"Pipeline Parado",description:"Alerta quando um cliente fica muito tempo em negociaÃ§Ã£o",enabled:!1,category:"client",trigger:{type:"time",interval:"daily"},conditions:[{field:"stage",operator:"equals",value:"negociacao"},{field:"stageUpdatedAt",operator:"olderThan",value:3,unit:"days"}],actions:[{type:"notify",title:"ðŸ”” Pipeline Parado",message:"Cliente {name} estÃ¡ em negociaÃ§Ã£o hÃ¡ 3+ dias"},{type:"aiSuggest",context:"pipeline_stuck"}]},{name:"Onboarding Cliente Novo",description:"Cria checklist de onboarding para clientes novos",enabled:!1,category:"client",trigger:{type:"event",entity:"client",event:"create"},actions:[{type:"createTask",data:{title:"Onboarding: {name}",description:"Checklist:\n- ReuniÃ£o inicial\n- Briefing completo\n- Definir objetivos\n- Assinar contrato",priority:"high"}},{type:"notify",title:"ðŸŽ‰ Novo Cliente",message:"Cliente {name} cadastrado! Iniciar onboarding."}]},{name:"Atualizar Status PÃ³s-Pagamento",description:"Atualiza status do cliente apÃ³s receber pagamento",enabled:!1,category:"financial",trigger:{type:"event",entity:"transaction",event:"create"},conditions:[{field:"type",operator:"equals",value:"entrada"}],actions:[{type:"updateField",entity:"client",field:"status",value:"ativo"},{type:"notify",title:"ðŸ’° Pagamento Recebido",message:"TransaÃ§Ã£o de {amount} recebida"}]},{name:"Lembrete de Deadline",description:"Notifica 1 dia antes do deadline da task",enabled:!1,category:"task",trigger:{type:"time",interval:"daily"},conditions:[{field:"deadline",operator:"equals",value:1},{field:"status",operator:"notEquals",value:"concluida"}],actions:[{type:"notify",title:"â° Deadline AmanhÃ£",message:'Task "{title}" vence amanhÃ£!'}]}];function m(){let[a,c]=(0,b.useState)([]),[d,e]=(0,b.useState)([]),[f,g]=(0,b.useState)(!1);(0,b.useEffect)(()=>{},[]);let h=(0,b.useCallback)(a=>{c(a)},[]),i=(0,b.useCallback)(b=>{let c={...b,id:Date.now().toString(),createdAt:new Date,runCount:0};return h([...a,c]),c},[a,h]),j=(0,b.useCallback)((b,c)=>{h(a.map(a=>a.id===b?{...a,...c,updatedAt:new Date}:a))},[a,h]),m=(0,b.useCallback)(b=>{h(a.filter(a=>a.id!==b))},[a,h]),n=(0,b.useCallback)(b=>{j(b,{enabled:!a.find(a=>a.id===b)?.enabled})},[a,j]),o=(0,b.useCallback)(b=>{let c=function(a){let b=l.find(b=>b.name===a);if(!b)throw Error(`Template "${a}" not found`);return{...b,id:Date.now().toString(),createdAt:new Date,runCount:0}}(b);return c.enabled=!0,h([...a,c]),c},[a,h]),p=(0,b.useCallback)(async b=>{g(!0);try{let c=await k(a,b),f=a.map(a=>{let b=c.find(b=>b.automationId===a.id);return b?{...a,lastRun:b.executedAt,runCount:a.runCount+1}:a});return h(f),e([...c,...d].slice(0,100)),c}finally{g(!1)}},[a,d,h]),q=(0,b.useCallback)(()=>l,[]),r=(0,b.useCallback)(()=>a.filter(a=>a.enabled),[a]);return{automations:a,logs:d,isRunning:f,createAutomation:i,updateAutomation:j,deleteAutomation:m,toggleAutomation:n,activatePredefined:o,runAutomationsNow:p,getPredefinedRules:q,getActiveAutomations:r}}a.s(["useAutomations",()=>m],14868)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__015cb01a._.js.map